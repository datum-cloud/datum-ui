version: '3'

env: 
  # env vars needed for the auth stubs
  AUTH_SECRET: $(openssl rand -base64 32)
  AUTH_ALLOWED_EMAILS: demo@datum.net

tasks:
  build:
    desc: build all apps and package
    cmd: bun run build

  install:
    desc: install the dependencies listed in package.json
    cmds:
      - bun install

  dev:
    desc: develop all apps
    cmds:
      - task: install
      - bun dev

  dev:docs:
    desc: develop docs
    cmds:
      - task: install
      - bun dev --filter={apps/docs}

  dev:operator:
    desc: develop docs
    cmds:
      - task: install
      - bun dev --filter={apps/operator}
